<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>GTRC</title>
  </head>
  <body>
    <div class="container">
        <div class="row">
            <div class="col">
                <br /><br />
                <h1>GTRC Dues - 2020</h1>
                <p>Thank you for being a member of GTRC and supporting our club!  Your dues pay for things like insurance (so we can host events), technology, gear, and lots more stuff to come in 2020.  We're excited to see what this can become!</p>
                <!-- Load Stripe.js on your website. -->
                <script src="https://js.stripe.com/v3"></script>

                <!-- Create a button that your customers click to complete their purchase. Customize the styling to suit your branding. -->
                <button
                  style="background-color:#6772E5;color:#FFF;padding:8px 12px;border:0;border-radius:4px;font-size:1em"
                  id="checkout-button-sku_Gi4kuWlVl7u5Nh"
                  role="link"
                >
                  Click here to pay your 2020 dues ($25)
                </button>

                <div id="error-message"></div>

                <script>
                (function() {
                  var stripe = Stripe('pk_live_M8pDOb8WwMpMWTgY1Z0uzK8T00MJUpM6Vp');

                  var checkoutButton = document.getElementById('checkout-button-sku_Gi4kuWlVl7u5Nh');
                  checkoutButton.addEventListener('click', function () {
                    // When the customer clicks on the button, redirect
                    // them to Checkout.
                    stripe.redirectToCheckout({
                      items: [{sku: 'sku_Gi4kuWlVl7u5Nh', quantity: 1}],

                      // Do not rely on the redirect to the successUrl for fulfilling
                      // purchases, customers may not always reach the success_url after
                      // a successful payment.
                      // Instead use one of the strategies described in
                      // https://stripe.com/docs/payments/checkout/fulfillment
                      successUrl: 'https://gtrc.run/dues-success',
                      cancelUrl: 'https://gtrc.run/dues-error',
                    })
                    .then(function (result) {
                      if (result.error) {
                        // If `redirectToCheckout` fails due to a browser or network
                        // error, display the localized error message to your customer.
                        var displayError = document.getElementById('error-message');
                        displayError.textContent = result.error.message;
                      }
                    });
                  });
                })();
                </script>

            </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>